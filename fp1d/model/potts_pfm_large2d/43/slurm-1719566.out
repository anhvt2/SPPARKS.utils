SPK INPUT SCRIPT:
# SPPARKS Potts tests on generic lattice
# a simple two-component, two- phase system.
# Parameters as in Homer, Tikare, Holm, Comp.Mat.Sci (2013)
# 2D lattice, similar to section 3.3.2

# seed 		56789
include in.seed.spk

# lambda sometimes called gamma
# a1 = a2 = a
# Nspins PFsteps lambda M_C KappaC a c1 c2 c3 c4
# set Nspins as a variable

# parameters settings (edit by AT)
variable	Nspins equal 200 # previously: 200
variable	boxSize equal 1000
variable 	PFsteps equal 10
variable	runTime equal 20000


# simulation
app_style	potts/pfm ${Nspins} ${PFsteps} 0.3 1 1 0.5 0.25 0.75 0.05 0.95 &
			reset_phasefield no &
			print_connectivity yes &
			initialize_values yes &
			enforce_concentration_limits no

dimension 	2
lattice 	sq/8n 1.0
region 		box block 0 ${boxSize} 0 ${boxSize} -0.5 0.5

create_box 	box
create_sites 	box

# assign random spins to sites
set 		site range 1 ${Nspins} #  edit by AT

# assign phase 0 or 1 to i2, based on spin

# set variable (edit by AT)
variable	thres1 equal "v_Nspins/2 + 1"
print		"Set variables successful! "

set 		i2 value 1
set 		i2 value 0 if i1 < ${thres1}  # 101 -> 1001

# assign initial concentration to d1, based on phase

set 		d1 value 1.0
set 		d1 value 0 if i2 = 0

sweep 		random
sector 		yes

# if yes, skip Monte Carlo solve or sweep
#app_update_only 	yes #no

# enforces concentration boundary conditions: C(xlo) = 0, C(xhi) = 1.0
#pottspfm_reset_phasefield yes #no

# show the neighborlist indices used for finite difference stencil
#pottspfm_print_connectivity yes #no

# initializes at equilibrium concentrations of phases dE/dC = 0
#pottspfm_initialize_values yes #no 

# constrain site concentrations to the physical range 
# if C(x) < 0.0, C(x) = 0.0
# if C(x) > 1.0, C(x) = 1.0
#pottspfm_enforce_concentration_limits yes #no

diag_style 	energy
diag_style 	array i2 mean d1 sum d1 min d1 max
temperature 	0.3

# all output generated at uniform intervals of log(t)

stats 		1.0 logfreq 9 10.0
dump 			1 text 1.0 dump.*.out id site i2 d1 energy
dump_modify 	1 logfreq 9 10.0

# graphics output
# if no JPEG support, remove these commands

dump			2 image 1.0 grain.*.jpg i1 site shape cube sdiam 1.0 crange 0 201 box no 0 view 0 0 zoom 2.02 center s 0.49 0.49 0.5
dump_modify 	2 logfreq 9 10.0

dump			3 image 1.0 phase.*.jpg i2 site shape cube sdiam 1.0 crange -1 2 box no 0 view 0 0 zoom 2.02 center s 0.49 0.49 0.5
dump_modify 	3 logfreq 9 10.0

dump			4 image 1.0 conc.*.jpg d1 site shape cube sdiam 1.0 crange 0.0 1.0 box no 0 view 0 0 zoom 2.02 center s 0.49 0.49 0.5
dump_modify 	4 logfreq 9 10.0

# cluster analysis based on spins

diag_style 		cluster delt 1.0 stats no logfreq 9 10.0 filename cluster.dat


# short run
run 			${runTime}



SPPARKS (24 June 2021)
Created box = (0 0 -0.5) to (1000 1000 0.5)
  1 by 1 by 1 processor grid
Creating sites ...
  1000000 sites
  1000000 sites have 8 neighbors
Setting site values ...
  1000000 settings made for site
Set variables successful! 
Setting site values ...
  1000000 settings made for i2
Setting site values ...
  499832 settings made for i2
Setting site values ...
  1000000 settings made for d1
Setting site values ...
  499832 settings made for d1
Connectivity map for app_style: potts/pfm
  +/-     x     y
    -     1     3
    +     6     4

Setting up run ...
Running with 32-bit site IDs
Memory usage per processor = 77.5 Mbytes
      Time    Naccept    Nreject    Nsweeps        CPU     Energy   mean(i2)    sum(d1)    min(d1)    max(d1)
         0          0          0          0          0 8.13601e+06   0.499832     499931   0.295455   0.704545
         1    2825332    5174668          8       7.21 3.38645e+06   0.497085     499931   0.187484   0.825111
     1.375    3227709    7772291         11       10.8 2.9637e+06   0.497315     499931   0.142352   0.830055
      1.75    3562904   10437096         14       14.3 2.70161e+06   0.496697     499931    0.17444   0.853916
      2.25    3953015   14046985         18       18.3 2.46036e+06    0.49629     499931   0.164429   0.870518
     2.875    4382163   18617837         23       22.9 2.24984e+06   0.496238     499931   0.128529    0.87068
     3.625    4845028   24154972         29       28.1 2.06349e+06   0.496642     499931    0.11699   0.880693
      4.75    5463610   32536390         38       34.7 1.86487e+06   0.497344     499931   0.123042   0.878609
         6    6078419   41921581         48       41.7 1.70784e+06   0.497793     499931   0.118736    0.89215
      7.75    6851063   55148937         62       50.8 1.54909e+06   0.498818     499931  0.0521883   0.925448
        10    7740939   72259061         80       61.8 1.40309e+06   0.499913     499931  0.0880416   0.903075
        13    8801592   95198408        104       75.9 1.27211e+06   0.501069     499931  0.0830096   0.912078
Warning: Concentration has deviated outside [0,1] range
     16.75    9991262  124008738        134       92.6 1.15749e+06   0.502173     499931   0.059145   0.938773
    21.625   11380858  161619142        173        114 1.05067e+06   0.503632     499931  0.0778335   0.947288
    27.875   12980818  210019182        223        140     960235   0.503357     499931  0.0673596   0.898158
        36   14856658  273143342        288        173     875977   0.501876     499931    0.10118   0.975976
      46.5   17053454  354946546        372        216     797554   0.502028     499931  0.0960543   0.935299
        60   19585657  460414343        480        269     731243    0.50124     499931  0.0733239   0.920993
      77.5   22543095  597456905        620        337     671948   0.502092     499931  0.0114347   0.962039
       100   25980604  774019396        800        424     619715   0.503448     499931  0.0656039   0.877291
    129.25   30028046 1003971954       1034        535     573564    0.50415     499931   0.117702    0.90779
   166.875   34773748 1300226252       1335        678     533506   0.502849     499931  0.0926328   0.850976
     215.5   40429538 1683570462       1724        861     495324   0.501389     499931   0.122059   0.939913
   278.375   47140751 2179859249       2227    1.1e+03     462863   0.505303     499931   0.126437   0.858585
     359.5   55092878 2820907122       2876    1.4e+03     433760   0.504791     499931   0.152612   0.853983
    464.25   64480406 3649519594       3714   1.79e+03     407072   0.501662     499931  0.0215759   0.871792
     599.5   75608397 4720391603       4796   2.29e+03     381931   0.498593     499931   0.162798   0.833321
   774.375   88775709 6106224291       6195   2.93e+03     357115   0.496643     499931   0.146659   0.845536
      1000  104685692 7895314308       8000   3.76e+03     334225    0.49557     499931   0.181628   0.847023
   1291.62  123524731 10209475269      10333   4.82e+03     316381   0.494222     499931    0.18131   0.852658
   1668.12  145882570 13199117430      13345   6.19e+03     295821   0.495733     499931   0.191541   0.889665
    2154.5  171604503 17064395497      17236   7.95e+03     275883    0.49817     499931   0.142701    0.82409
   2782.62  202152511 22058847489      22261   1.02e+04     261430   0.497157     499931   0.195291   0.809093
   3593.88  238727441 28512272559      28751   1.32e+04     249932   0.498506     499931   0.176988   0.828841
   4641.62  282300870 36850699130      37133   1.69e+04     238806     0.4987     499931   0.201017   0.770994
   5994.88  334900386 47624099614      47959   2.18e+04     229107   0.501205     499931   0.190358   0.802542
   7742.75  397089960 61544910040      61942   2.81e+04     217868   0.500034     499931   0.213687   0.769544
     10000  470952867 79529047133      80000   3.62e+04     208785   0.497912     499931   0.193319    0.78291
   12915.5  560928338 102763071662     103324   4.67e+04     201166   0.497381     499931   0.231341   0.850037
   16681.1  671316571 132777683429     133449   6.02e+04     192479   0.499267     499931   0.228244   0.862809
     20000  762077298 159237922702     160000   7.21e+04     184877   0.499723     499931   0.234779   0.782511
Loop time of 72100.7 on 1 procs

Solve time (%) = 72035 (99.9088)
Update time (%) = 0 (0)
Comm  time (%) = 0.79916 (0.00110839)
Outpt time (%) = 64.8055 (0.0898819)
App   time (%) = 0 (0)
Other time (%) = 0.156886 (0.000217592)
