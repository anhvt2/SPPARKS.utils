SPK INPUT SCRIPT:
# SPPARKS Potts tests on generic lattice
# a simple two-component, two- phase system.
# Parameters as in Homer, Tikare, Holm, Comp.Mat.Sci (2013)
# 2D lattice, similar to section 3.3.2

# seed 		56789
include in.seed.spk

# lambda sometimes called gamma
# a1 = a2 = a
# Nspins PFsteps lambda M_C KappaC a c1 c2 c3 c4
# set Nspins as a variable

# parameters settings (edit by AT)
variable	Nspins equal 200 # previously: 200
variable	boxSize equal 1000
variable 	PFsteps equal 10
variable	runTime equal 20000


# simulation
app_style	potts/pfm ${Nspins} ${PFsteps} 0.3 1 1 0.5 0.25 0.75 0.05 0.95 &
			reset_phasefield no &
			print_connectivity yes &
			initialize_values yes &
			enforce_concentration_limits no

dimension 	2
lattice 	sq/8n 1.0
region 		box block 0 ${boxSize} 0 ${boxSize} -0.5 0.5

create_box 	box
create_sites 	box

# assign random spins to sites
set 		site range 1 ${Nspins} #  edit by AT

# assign phase 0 or 1 to i2, based on spin

# set variable (edit by AT)
variable	thres1 equal "v_Nspins/2 + 1"
print		"Set variables successful! "

set 		i2 value 1
set 		i2 value 0 if i1 < ${thres1}  # 101 -> 1001

# assign initial concentration to d1, based on phase

set 		d1 value 1.0
set 		d1 value 0 if i2 = 0

sweep 		random
sector 		yes

# if yes, skip Monte Carlo solve or sweep
#app_update_only 	yes #no

# enforces concentration boundary conditions: C(xlo) = 0, C(xhi) = 1.0
#pottspfm_reset_phasefield yes #no

# show the neighborlist indices used for finite difference stencil
#pottspfm_print_connectivity yes #no

# initializes at equilibrium concentrations of phases dE/dC = 0
#pottspfm_initialize_values yes #no 

# constrain site concentrations to the physical range 
# if C(x) < 0.0, C(x) = 0.0
# if C(x) > 1.0, C(x) = 1.0
#pottspfm_enforce_concentration_limits yes #no

diag_style 	energy
diag_style 	array i2 mean d1 sum d1 min d1 max
temperature 	0.3

# all output generated at uniform intervals of log(t)

stats 		1.0 logfreq 9 10.0
dump 			1 text 1.0 dump.*.out id site i2 d1 energy
dump_modify 	1 logfreq 9 10.0

# graphics output
# if no JPEG support, remove these commands

dump			2 image 1.0 grain.*.jpg i1 site shape cube sdiam 1.0 crange 0 201 box no 0 view 0 0 zoom 2.02 center s 0.49 0.49 0.5
dump_modify 	2 logfreq 9 10.0

dump			3 image 1.0 phase.*.jpg i2 site shape cube sdiam 1.0 crange -1 2 box no 0 view 0 0 zoom 2.02 center s 0.49 0.49 0.5
dump_modify 	3 logfreq 9 10.0

dump			4 image 1.0 conc.*.jpg d1 site shape cube sdiam 1.0 crange 0.0 1.0 box no 0 view 0 0 zoom 2.02 center s 0.49 0.49 0.5
dump_modify 	4 logfreq 9 10.0

# cluster analysis based on spins

diag_style 		cluster delt 1.0 stats no logfreq 9 10.0 filename cluster.dat


# short run
run 			${runTime}



SPPARKS (24 June 2021)
Created box = (0 0 -0.5) to (1000 1000 0.5)
  1 by 1 by 1 processor grid
Creating sites ...
  1000000 sites
  1000000 sites have 8 neighbors
Setting site values ...
  1000000 settings made for site
Set variables successful! 
Setting site values ...
  1000000 settings made for i2
Setting site values ...
  500107 settings made for i2
Setting site values ...
  1000000 settings made for d1
Setting site values ...
  500107 settings made for d1
Connectivity map for app_style: potts/pfm
  +/-     x     y
    -     1     3
    +     6     4

Setting up run ...
Running with 32-bit site IDs
Memory usage per processor = 77.5 Mbytes
      Time    Naccept    Nreject    Nsweeps        CPU     Energy   mean(i2)    sum(d1)    min(d1)    max(d1)
         0          0          0          0          0 8.13621e+06   0.500107     500044   0.295455   0.704545
         1    2824239    5175761          8       7.22 3.38402e+06   0.499558     500044   0.191281   0.867656
     1.375    3225230    7774770         11       10.8 2.96202e+06   0.499913     500044   0.180831   0.833504
      1.75    3561390   10438610         14       14.3 2.69791e+06   0.499906     500044   0.165679   0.842091
      2.25    3950596   14049404         18       18.4 2.45676e+06   0.501096     500044   0.119813   0.861211
     2.875    4378419   18621581         23       22.9 2.24919e+06   0.502814     500044    0.14215   0.862359
     3.625    4841210   24158790         29       27.9 2.06485e+06   0.502997     500044   0.096127   0.879559
      4.75    5459908   32540092         38       34.6 1.86805e+06   0.503392     500044   0.118653   0.871287
         6    6076166   41923834         48       41.6 1.70958e+06   0.503206     500044  0.0791464   0.897795
      7.75    6850710   55149290         62       50.7 1.55074e+06   0.503248     500044   0.086906   0.912811
        10    7744512   72255488         80       61.8 1.40687e+06   0.504092     500044  0.0992023   0.927543
        13    8812517   95187483        104       75.9 1.27168e+06   0.504259     500044  0.0832794   0.944366
     16.75   10006980  123993020        134       92.8 1.15468e+06   0.504336     500044  0.0761088   0.921346
    21.625   11391830  161608170        173        114 1.05128e+06   0.504319     500044  0.0589064   0.910191
Warning: Concentration has deviated outside [0,1] range
    27.875   12988736  210011264        223        140     957377   0.503587     500044  0.0759272   0.943024
        36   14858886  273141114        288        174     870837   0.505235     500044  0.0695265   0.983882
      46.5   17040780  354959220        372        216     795197   0.506227     500044  0.0775318   0.933352
        60   19570545  460429455        480        270     729956   0.506836     500044  0.0680678   0.967939
      77.5   22547432  597452568        620        338     670858   0.507414     500044  0.0579336   0.949703
       100   26008672  773991328        800        425     619459   0.506255     500044   0.102797   0.904679
    129.25   30093958 1003906042       1034        536     573172   0.504766     500044   0.117272   0.886755
   166.875   34894510 1300105490       1335        679     530541   0.501658     500044  0.0818151   0.880358
     215.5   40568823 1683431177       1724        862     493363    0.50041     500044   0.117278    0.88292
   278.375   47273903 2179726097       2227    1.1e+03     460970   0.498016     500044   0.142334   0.904985
     359.5   55282671 2820717329       2876    1.4e+03     430806   0.497234     500044   0.118765   0.863421
    464.25   64809119 3649190881       3714   1.79e+03     403593   0.499517     500044    0.14601   0.857651
     599.5   76180527 4719819473       4796   2.29e+03     378343   0.498827     500044  0.0794213   0.830257
   774.375   89676899 6105323101       6195   2.93e+03     355860   0.502511     500044   0.149579    0.84801
      1000  105740551 7894259449       8000   3.76e+03     333636   0.501002     500044   0.192997   0.856177
   1291.62  124854608 10208145392      10333   4.82e+03     313925   0.500613     500044   0.174834   0.823872
   1668.12  147392337 13197607663      13345    6.2e+03     293923   0.498558     500044   0.184507   0.843754
    2154.5  173669291 17062330709      17236   7.97e+03     276246   0.497041     500044     0.1852   0.816424
   2782.62  204367833 22056632167      22261   1.02e+04     260606   0.496134     500044   0.143981   0.806612
   3593.88  241209569 28509790431      28751   1.32e+04     248758   0.498485     500044    0.22277   0.801076
   4641.62  285088738 36847911262      37133    1.7e+04     235850    0.49954     500044   0.189378   0.814481
   5994.88  336999820 47622000180      47959   2.19e+04     224252   0.500361     500044   0.175249   0.775469
   7742.75  398919768 61543080232      61942   2.82e+04     214020   0.497922     500044   0.222985   0.772266
     10000  472650765 79527349235      80000   3.63e+04     206292   0.498531     500044   0.222872   0.774115
   12915.5  563490054 102760509946     103324   4.68e+04     198484   0.497084     500044   0.222157   0.771084
   16681.1  675250563 132773749437     133449   6.04e+04     191140   0.500165     500044   0.223747   0.770514
     20000  767403927 159232596073     160000   7.23e+04     185459   0.498676     500044   0.222469   0.774317
Loop time of 72284.9 on 1 procs

Solve time (%) = 72219.4 (99.9094)
Update time (%) = 0 (0)
Comm  time (%) = 0.65136 (0.000901102)
Outpt time (%) = 64.6624 (0.089455)
App   time (%) = 0 (0)
Other time (%) = 0.177847 (0.000246037)
